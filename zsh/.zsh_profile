#!/usr/bin/env zsh

## -- PATHS --
typeset -U path
path+=($HOME/bin)

export FZF_COMPLETION_TRIGGER=','
function _fzf_compgen_path() {
  fd --hidden --follow --exclude ".git" . "$1"
}
function _fzf_compgen_dir() {
  fd --type d --hidden --follow --exclude ".git" . "$1"
}

## -- ALIASES --
alias :q="exit"
alias ga="git add"
alias gba="git branch -a"
alias gst="git status"
alias gc="git commit -v"
alias groot='cd "$(git rev-parse --show-toplevel || echo .)"'
alias gwip='git add -A; git rm $(git ls-files --deleted) 2> /dev/null; git commit --no-verify --no-gpg-sign -m "--wip-- [skip ci]"'
alias gunwip='git log -n 1 | grep -q -c "\--wip--" && git reset HEAD~1'
alias glog="git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative"
alias gsw="git switch"
alias gfo="git fetch origin"
alias gco="git checkout"
alias gundo="git reset --soft HEAD~1"
alias gpristine='git reset --hard && git clean --force -dfx'
# alias getrandom='openssl rand -base64 32'